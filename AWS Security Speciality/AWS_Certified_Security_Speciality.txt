Disclaimer:
------------
The information has been taken from various sources during my preperation
1. AWS Exam Readiness and Documentation

=-------------------------------------------=
= AWS Certified Security Specialty =
=-------------------------------------------=

Domain 1: Infrastructure Security

Review these materials to learn more about the topics covered in this exam domain:
* AWS Security and Incident Response Guide
* AWS Security Finding Format (ASFF)
* Required attributes
* Playbooks
* Creating your own runbooks
* Runbook
* What is AWS Systems Manager Incident Manager? 
* Working with Systems Manager Automation runbooks in Incident Manager
* How S3 Object Locks works
* CAPTCHA and Challenge actions in AWS WAF

Domain 2: Security Logging and Monitoring

- [ ] CloudWatch logs to an S3 bucket
    - [ ]   logs:CreateLogDelivery
    - [ ]   S3:PutBucketPolicy
    - [ ]   S3:GetBucketPolicy
- [ ] AWS Network Firewall logs to Amazon Kinesis Data Firehose
    - [ ] logs:CreateLogDelivery
    - [ ]   firehose:TagDeliveryStream
    - [ ]   iam:CreateServiceLinkedRole
    - [ ]   AWSServiceRoleForLogDelivery
- [ ] Kinesis uses Identity based policy where as other services uses Resource based policies 
- [ ] In CloudTrail, event data stores do not use S3 buckets.
- [ ] In CloudTrail, by default data events are not logged, to record you must explicitly add the supported resources or resources types where you want to collect activity.
- [ ] Unwanted data movements use AWS global network for data transfers and doesn’t touch any endpoints or network gateways, therefore related events only appear in Cloud Trail and AWS Config logs and not in the network.
- [ ] Implement structured logging using log levels. For unstructured, use glob or regular expression using a parse command.
- [ ] Automation - manage access keys and users
    - [ ]   IAM credential report
    - [ ]   AWS Config
    - [ ]   Systems Manager Automation
    - [ ]   Lambda function
    - [ ]   GenerateCredentialReport API   and check the keys with access_key_1_last_rotated
- [ ] CloudWatch Insights cannot query CloudTrail logs directly.
- [ ] CloudTrail cannot send logs directly to Amazon Athena
- [ ] S3 Select gives you the ability to query one object at a time, it can’t perform a complex queries
- [ ] S3 Select has size limitations of log and SQL queries that could further pose restrictions 
- [ ] You can’t use CloudTrail lake to query past CloudTrail logs, however you can use CloudTrail Lake to collect events from all future logs to collect events from all future logs after CloudTrail lake is set up for an event data store.

Review these materials to learn more about the topics covered in this exam domain:
* Using CloudWatch anomaly detection
* AWS Security Incident Response Guide
* Insights in AWS Security Hub
* Logging IP traffic using VPC Flow Logs
* Flow log record examples
* Troubleshooting access denied error messages
* Centralized Logging with OpenSearch
* Using CloudTrail to identify unexpected behaviors in individual workloads


Domain 3: Infrastructure Security

- [ ] Flow logs do not capture all IP traffic
- [ ] Network Access Analyser is a feature that identifies unintended network access to resources, you would not use this to test connectivity instead use VPC Reachability Analyser.
- [ ] Use Traffic Mirroring for out-of-band security and monitoring, a third-party tool is deployed on EC2 instance, and it can route network traffic and then examine the traffic to depth.

Review these materials to learn more about the topics covered in this exam domain:
* AWS Well-Architected Framework’s Security Pillar
* Monitoring with Amazon CloudWatch 
* AWS Best Practices for DDoS Resiliency 
* Website endpoints
* Restricting access to files on custom origins
* Security perspective: compliance and assurance
* MAC Security 
* Amazon Elastic Block Store (Amazon EBS)
* AWS Systems Manager Patch Manager
* Understanding findings in Amazon Inspector
* Amazon Inspector integration with AWS Security Hub
* What is Reachability Analyzer?
* What is AWS Global Networks for Transit Gateways?
* Flow log record examples 
* Centralized logging solution on AWS


Domain 4: Troubleshooting and Optimisation

- [ ] IAM Identity Centre can hold sessions for up to 90 days.
- [ ]   User pool is a user directory
    - [ ]   Social identity provider
    - [ ]   Third-party identity provider
    - [ ]   Use Lambda for setting conditions
- [ ]   Identity pool is a directory of federated identities
    - [ ] Basic and enhanced AuthFlows
AWS Directory Service
*   Simple Active Directory - basic AD, can handle 500 to 5000 users, doesn’t support MFA, trust relationships with other domains and more.
*   AWS Managed Microsoft AD - uses IAM Identity Center
*   Active Directory Connector - directory gateway, which provides a proxy request back to your on-premises directory, when you do not want to store any directory information in AWS.
- [ ] SCP’s do not grant any permissions instead they specify the maximum permissions for an organisation OU or account.
- [ ] Any action that is not explicitly allowed or denied by the SCP affecting the account is blocked.
- [ ] By default, a full AWS access SCP policy is attached to every root organisation, unit, and account. This default SCP allows all actions and all services. For our scenario, we are creating a new organisation and until you start creating or manipulating the SCPs, all of your existing IAM permissions continue to operate as they were configured. But when you apply a new or modified SCP to a root or organisational unit that contains an account, the permissions that your users have in that account become filtered by the SCP. Permissions that used to work might now be denied if they're not allowed by the SCP at every level of the hierarchy down to the specific account. 
- [ ] Let's say that you need to enable cross-account access to another AWS account as the principal in your resource-based policy. What is your solution? Well, adding a cross-account principal to a resource-based policy is one half of establishing the required access. Because the principal is in one AWS account and the resource is in another AWS account, you must also use an identity-based policy to grant the principal access to the resource. What if the principal is in the same AWS account as the resource? If a resource-based policy grants access to a principal in the same account, no additional identity-based policy is required. 
- [ ] Cognito Identity pools can’t authenticate with external IDP’s.

Review these materials to learn more about the topics covered in this exam domain:
* What is IAM?
* Security best practices in IAM
* Managing IAM users
* Example IAM identity-based policies
* IAM Access Analyzer 
* Actions, resources, and condition keys for AWS services
* Condition operators
* Policy evaluation logic
* What is AWS CloudFormation Guard?

Domain 5: Infrastructure Security

- [ ] Kinesis Data Streams
    *   StartStreamEncrpytion API
- [ ] The standard AWS asymmetric encryption algorithms that AWS KMS uses does not support encryption context.

- [ ] Amazon RDS volume snapshots
Lifecycle policies
    *   Automated snapshots can have a retention period from 1 to 35 days
    *   Manual snapshots do not expire
- [ ] you can store your secrets in Secrets Manager and then reference the secret as a Parameter Store parameter. 
- [ ] When you configure Parameter Store with Secrets Manager, the secret ID parameter store requires a forward slash before the name string. 
- [ ] Secrets Manager provides automatic rotation of your secrets, but Parameter Store does not provide automatic rotation services for your stored secrets. 
- [ ] Integrating Parameter Store and Secrets Manager gives you the benefits of Secret Manager and the ability to seamlessly support services that are referencing Parameter Store parameters. 
    - [ ] Importing customer-provided key material
    - [ ] You remain responsible for managing key material
    - [ ] You can delete the key material
    - [ ] You can't change the key material or the key material origin
    - [ ] You can't export imported key material
    - [ ] You can create multi-Region keys
    - [ ] Removing customer-provided key material
*   Deleting a KMS key will delete the key material and metadata associated with it
*   Deleting key material of a KMS key with imported key material
	aws kms delete- imported-key-material \
		--key-id 1234abcd-12ab-34cd-56ef -1234567890ab
	is temporary and reversible
  • Using the delete-imported-key-material operation makes the specified AWS KMS key temporarily unusableable

Review these materials to learn more about the topics covered in this exam domain:
* Encrypting Data-at-Rest and Data-in-Transit
* AWS Direct Connect + AWS Site-to-Site VPN
* Hybrid connectivity VPN
* AWS Direct Connect 
* Building a global network using AWS Transit Gateway Inter-Region peering
* AWS Prescriptive Guidance Encryption best practices and features for AWS services
* AWS Certificate Manager 
* Amazon EC2 Instance Connect (EIC) Endpoint
* Secure Connectivity from Public to Private: Introducing EC2 Instance Connect Endpoint
* Manage your storage lifecycle
* Managing backups using backup plans
* AWS KMS concepts
* Asymmetric keys in AWS KMS
* Grants is AWS KMS
* What is AWS Nitro Enclaves?
Domain 6: Management and Security Governance

- [ ] AWS Control Tower
    - [ ] Automate deployment of a multi-account environment according to AWS best practices
    - [ ] Build a new AWS environment or start a new cloud initiative
    - [ ] Provide control (guardrails) for ongoing governance
    - [ ] Automate the creation of AWS accounts.
    - [ ] What if you have existing OU’s and accounts that were created outside of AWS Control Tower? You can bring them into AWS Control Tower governance at any time. 

- [ ] Organizations
    - [ ]   Define your own custom multi-account environment with advanced management capabilities
    - [ ]   Create granular SCPs that centrally control the use of AWS services and resources across multiple accounts
    - [ ] Currently you have multiple accounts such as engineering, finance, human resources, and more. And each of these accounts are managed by the team lead and have root access for their specific accounts. How can you centrally manage the policies and access needed to different AWS services across all of the AWS accounts and groups of accounts? Would you use AWS Control Tower or Organisation’s? I would use Organisations and create organisational units for the AWS accounts and group them as needed. You can control the access to the different AWS services using IAM policies and SCPs. 

- [ ] AWS Firewall Manager
*   Set up AWS WAF rules and configures security groups across multiple accounts and resources
*   Automatically protect resources that are added to your account
* Only available for accounts that are members of Organisations

- [ ] Predefined Macie allow don’t accept wildcard entries.
- [ ] Macie sensitive data discovery job must complete a full evaluation of the data in the S3 buckets.
- [ ] Amazons Macie automated service evaluates a sample of objects in S3.
- [ ] Object Lock provides two ways to manage object retention: retention periods and legal holds. An object version can have a retention period, a legal hold, or both.
    - [ ] Retention period – A retention period specifies a fixed period of time during which an object version remains locked. You can set a unique retention period for individual objects. Additionally, you can set a default retention period on an S3 bucket. You may also restrict the minimum and maximum allowable retention periods with the s3:object-lock-remaining-retention-days condition key in the bucket policy. This helps you establish a range of retention periods and by restricting retention periods that may be shorter or longer than this range.
    - [ ] Legal hold – A legal hold provides the same protection as a retention period, but it has no expiration date. Instead, a legal hold remains in place until you explicitly remove it. Legal holds are independent from retention periods and are placed on individual object versions.
- [ ] S3 Object Lock provides two retention modes that apply different levels of protection to your objects:
    - [ ] Compliance mode
    - [ ] Governance mode
    - [ ] In compliance mode, a protected object version can't be overwritten or deleted by any user, including the root user in your AWS account. When an object is locked in compliance mode, its retention mode can't be changed, and its retention period can't be shortened. Compliance mode helps ensure that an object version can't be overwritten or deleted for the duration of the retention period.
    > Note: The only way to delete an object under the compliance mode before its retention date expires is to delete the associated AWS account.
    - [ ] In governance mode, users can't overwrite or delete an object version or alter its lock settings unless they have special permissions. With governance mode, you protect objects against being deleted by most users, but you can still grant some users permission to alter the retention settings or delete the objects if necessary. You can also use governance mode to test retention-period settings before creating a compliance-mode retention period.
    - [ ] To override or remove governance-mode retention settings, you must have the s3:BypassGovernanceRetention permission and must explicitly include x-amz-bypass-governance-retention:true as a request header with any request that requires overriding governance mode.
    > Note: By default, the Amazon S3 console includes the x-amz-bypass-governance-retention:true header. If you try to delete objects protected by governance mode and have the s3:BypassGovernanceRetention permission, the operation will succeed.

Review these materials to learn more about the topics covered in this exam domain:
* Governance
* Security
* Learn template basics
* Working with AWS Firewall Manager policies
* Getting started with an AWS CloudFormation product
* AWS Config and AWS Organizations
* AWS Audit Manager evidence
* Mitigation techniques
* Using CloudWatch anomaly detection
* Guidance for baseline security assessment on AWS
